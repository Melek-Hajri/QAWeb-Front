<div class="container">
    <h2>User Management</h2>
    <table mat-table [dataSource]="users" class="mat-elevation-z8">
  
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let user"> {{user.name}} </td>
      </ng-container>
  
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef> Email </th>
        <td mat-cell *matCellDef="let user"> {{user.email}} </td>
      </ng-container>
  
      <ng-container matColumnDef="joinedDate">
        <th mat-header-cell *matHeaderCellDef> Member Since </th>
        <td mat-cell *matCellDef="let user"> {{ user.joinedDate | date: 'dd/MM/YYYY HH:mm'}} </td>
      </ng-container>

      <ng-container matColumnDef="isAdmin">
        <th mat-header-cell *matHeaderCellDef> Role </th>
        <td mat-cell *matCellDef="let user"> {{ user.admin ? 'Admin' : 'User' }} </td>
      </ng-container>
  
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Actions </th>
        <td mat-cell *matCellDef="let user">
            <button mat-mini-fab color="warn" aria-label="Deactivate User" matTooltip="Deactivate User" (click)="deactivateUser(user.id)" *ngIf="user.active">
                <mat-icon>lock</mat-icon>
            </button>
            <button mat-mini-fab class="activate-button" aria-label="Activate User" matTooltip="Activate User" (click)="activateUser(user.id)" *ngIf="!user.active">
                <mat-icon>lock_open</mat-icon>
            </button>
            <button mat-mini-fab color="accent" aria-label="Make Admin" matTooltip="Make Admin" [disabled]="user.admin" (click)="makeAdmin(user.id)">
                <mat-icon>admin_panel_settings</mat-icon>
            </button>
            <button mat-mini-fab color="primary" aria-label="More Info" matTooltip="More Info" routerLink="/user/user/{{ user.id }}">
                <mat-icon>info</mat-icon>
            </button>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="['name', 'email', 'joinedDate', 'isAdmin', 'actions']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['name', 'email', 'joinedDate', 'isAdmin', 'actions'];"></tr>
    </table>
  </div>
  